
<div id="body" class="container">
  <div class="row pt-3">
    <div class="col-md-5">
      <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
        </div>
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img src="../../assets/img/MacFronte2.jpg" class="d-block w-100" alt="..." style="height: 324px">
          </div>
          <div class="carousel-item">
            <img src="../../assets/img/MacRetro.jpg" class="d-block w-100" alt="..." style="height: 324px">
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
        </button>
      </div>
      <div class="my-carousel-div">
        <h4>{{ auctionAlreadyEnded && highestBid > 0 ? 'Aggiudicato a' : 'Offerta massima' }} : {{ highestBid }} Eth</h4> 
        <h4>Stato : {{ auctionAlreadyEnded ? 'Asta conclusa' : 'Asta in corso' }}</h4>
        <button type="button" class="btn btn-primary btn-sm" (click)="fetchContractValues()">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-clockwise" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"/>
            <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"/>
          </svg>
          Aggiorna
        </button>
      </div>
    </div>
    <div class="col-md-6">
      <div class="card maxHeight maxWidht">
        <div class="card-body">
          <h2 class="card-title">Macbook Pro 2022</h2>
          <p class="card-text">
            Computer come nuovo usato 2 mesi, di seguito le caratteristiche principali:
            <ul>
              <li>Processore Apple M1 Pro;</li>
              <li>Display Liquid Retina XDR da 14,2"</li>
              <li>16GB di memoria RAM</li>
              <li>Unità SSD da 512GB</li>
              <li>Fino a 17 ore di riproduzione film sull’app Apple TV</li>
              <li>Fino a 11 ore di navigazione web in wireless</li>
            </ul>

          <h3 class="smaller">{{auctionTimeAlreadyEnded ? 'Non puoi più fare offerte' : 'Tempo rimasto'}} : {{countdowndays}}  {{countdownHours}} {{countdownMinutes}} {{countdownSeconds}} {{countdownEnded}} </h3>
          <div> <!--*ngIf="auctionTimeAlreadyEnded"-->
              <input class="m-2" [(ngModel)]="amount" placeholder="Quantità in ETH, es. 1.24">
              <button class="btn btn-primary mb-1" (click)="bid()"> Fai l'offerta </button>
          </div>
          <div> <!--DA RIMUOVERE E FAR FARE IN AUTOMATICO-->
            <button class="btn btn-warning m-1" (click)="withdraw()">Preleva</button>
            <p class="withdraw">N.b. Potrai prelevare solo i fondi che non corrispondono all'offerta massima attuale.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row pt-3">
    <div class="col-md-12">
      <div>
        <h3>Offerte effettuate 
          <button type="button" class="btn btn-primary btn-sm" (click)="getAllOffers()">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-clockwise" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"/>
              <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"/>
            </svg>
            Aggiorna
          </button>
        </h3>

      </div>
      <table class="table">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Indirizzo offerente</th>
            <th scope="col">Quantità offerta</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let offer of offersList  index as i" >
            <td>{{i+1}}</td>
            <td>{{offersAddresses[i]}}</td>
            <td>{{offersAmount[i] / ehtPrecision}} Eth</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div>
</div>
